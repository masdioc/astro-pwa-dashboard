---
// import ImportSoal from "../components/ImportSoal";
import BaseLayout from "../../pages/layout/layout.astro";
---

<BaseLayout title="tentang">
  <div class="p-6">
    <div class="bg-white p-8 rounded shadow-lg max-w-lg w-full">
      <h1 class="text-2xl font-bold mb-4">üì• Import Soal dari Excel</h1>
      <form id="uploadForm" class="space-y-4">
        <input
          type="file"
          id="fileInput"
          name="file"
          accept=".xlsx"
          class="border border-gray-300 rounded px-4 py-2 w-full"
          required
        />
        <button
          type="submit"
          class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
        >
          Upload dan Import
        </button>
      </form>
      <div id="status" class="mt-4 text-sm text-gray-700"></div>
    </div>
    <!-- 
    <script>
      document
        .getElementById("uploadForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();
          const fileInput = document.getElementById("fileInput");
          const status = document.getElementById("status");

          if (!fileInput.files.length) {
            status.textContent = "‚ùó Pilih file terlebih dahulu.";
            return;
          }

          const formData = new FormData();
          formData.append("file", fileInput.files[0]);

          status.textContent = "‚è≥ Mengunggah dan mengimpor file...";

          try {
            const response = await fetch(`${API_URL}/api/upload-excel`, {
              method: "POST",
              body: formData,
            });

            const text = await response.text();
            status.textContent = response.ok ? `‚úÖ ${text}` : `‚ùå ${text}`;
          } catch (error) {
            status.textContent = "‚ùå Terjadi kesalahan: " + error.message;
          }
        });
    </script> -->
  </div>
</BaseLayout>
