---
import BaseLayout from "../pages/layout.astro";
---

<BaseLayout title="Profil Pengguna">
  <main class="flex-1 p-4 sm:p-6">
    <h1 class="text-2xl font-bold mb-4 text-center md:text-left">
      Profil Pengguna
    </h1>

    <div
      id="profileBox"
      class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow border border-gray-200 dark:border-gray-700 w-full max-w-xl mx-auto"
    >
      <p>Memuat data pengguna...</p>
    </div>

    <script type="module">
      const user = JSON.parse(localStorage.getItem("user") || "{}");
      const box = document.getElementById("profileBox");

      if (user?.id) {
        box.innerHTML = `
          <p class="mb-2"><strong>Nama:</strong> ${user.firstName || user.name || "-"} ${user.lastName || ""}</p>
          <p class="mb-2"><strong>Email:</strong> ${user.email || "-"}</p>
          <p class="mb-2"><strong>Username:</strong> ${user.username || "-"}</p>
        `;
      } else {
        box.innerHTML = `<p class="text-red-500">Gagal memuat data pengguna.</p>`;
      }
    </script>
  </main>
</BaseLayout>
