import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.CRVbtxaI.js";import{A as g}from"./client.Dpvk074T.js";/* empty css                       */function p(){const[a,i]=s.useState(!1),[o,d]=s.useState(""),[l,c]=s.useState(""),m=()=>i(!a),u=async t=>{t.preventDefault();try{const r=await fetch(`${g}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:l})});if(!r.ok)throw new Error("Login gagal");const n=await r.json();localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n)),localStorage.setItem("loginTime",Date.now().toString()),localStorage.setItem("isLoggedIn","true"),window.location.href="/home"}catch{alert("Login gagal. Silakan coba lagi.")}};return e.jsx("div",{className:"bg-gray-100 dark:bg-gray-900 flex items-center justify-center min-h-screen px-4",children:e.jsxs("div",{className:"max-w-4xl w-full bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden flex flex-col md:flex-row border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"hidden md:block md:w-1/2",children:e.jsx("img",{src:"/images/bg-login.png",alt:"Login",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"w-full md:w-1/2 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-gray-700 dark:text-white mb-6",children:"Login ke Aplikasi"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"user_input",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Username"}),e.jsx("input",{type:"text",id:"user_input",name:"user_input",value:o,onChange:t=>d(t.target.value),required:!0,className:"w-full px-4 py-2 border rounded shadow-sm focus:outline-none focus:ring focus:border-blue-400 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"secret_key",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Password"}),e.jsx("input",{type:a?"text":"password",id:"secret_key",name:"secret_key",value:l,onChange:t=>c(t.target.value),required:!0,className:"w-full px-4 py-2 border rounded pr-10 shadow-sm focus:outline-none focus:ring focus:border-blue-400 dark:bg-gray-700 dark:text-white"}),e.jsx("button",{type:"button",onClick:m,className:"absolute right-3 top-9 text-sm text-gray-600 dark:text-gray-300",children:a?"ğŸ™ˆ":"ğŸ‘ï¸"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded",children:"Login"})]}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Belum punya akun?"}),e.jsx("a",{href:"/register",className:"ml-2 text-sm text-blue-600 hover:underline dark:text-blue-400",children:"Daftar di sini"})]})]})]})})}export{p as default};
