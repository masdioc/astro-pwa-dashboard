import{j as e}from"./jsx-runtime.BjG_zV1W.js";import{r as s}from"./index.BB8MMS-b.js";const a=[{question:"Apa ibu kota Indonesia?",options:["Bandung","Surabaya","Jakarta","Medan"],answer:2},{question:"Berapakah hasil dari 2 + 2?",options:["3","4","5","6"],answer:1}];function E(){const[n,u]=s.useState(0),[i,r]=s.useState(null),[h,m]=s.useState(0),[g,p]=s.useState(Array(a.length).fill(null)),[b,f]=s.useState(!1),[w,j]=s.useState(!1),[c,y]=s.useState(null),[d,N]=s.useState(0);s.useEffect(()=>{c||y(new Date);const t=setInterval(()=>{c&&N(Math.floor((new Date().getTime()-c.getTime())/1e3))},1e3);return()=>clearInterval(t)},[c]);const k=t=>{if(i!==null)return;r(t),t===a[n].answer&&m(o=>o+1),p(o=>{const S=[...o];return S[n]=t,S})},v=()=>{r(null),u(t=>t+1)},T=()=>{const t=n-1,l=g[t];l!==null&&l===a[t].answer&&m(o=>o-1),u(t),r(null)};if(s.useEffect(()=>{r(g[n])},[n]),s.useEffect(()=>{b&&!w&&fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:1,score:h,total:a.length,duration:d})}).then(t=>t.json()).then(t=>{console.log("Skor berhasil dikirim:",t),j(!0)})},[b,w,h,d]),b)return e.jsxs("div",{className:"bg-white p-8 rounded shadow-md text-center max-w-md mx-auto mt-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Hasil Quiz"}),e.jsxs("p",{className:"text-lg mb-2",children:["Skor Anda: ",h," dari ",a.length]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Waktu: ",d," detik"]}),e.jsx("button",{onClick:()=>{u(0),r(null),m(0),p(Array(a.length).fill(null)),f(!1),j(!1),y(new Date),N(0)},className:"mt-6 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Ulangi Quiz"})]});const x=a[n];return e.jsxs("div",{className:"bg-white p-6 rounded shadow-md w-full max-w-md mx-auto mt-10",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["Soal ",n+1," dari ",a.length]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all",style:{width:`${(n+1)/a.length*100}%`}})})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-4 text-right",children:["Waktu: ",d," detik"]}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:x.question}),e.jsx("ul",{className:"space-y-2",children:x.options.map((t,l)=>e.jsx("li",{className:`p-3 rounded cursor-pointer border transition ${i!==null?l===x.answer?"bg-green-200 border-green-600":l===i?"bg-red-200 border-red-600":"bg-white border-gray-300":"hover:bg-blue-100 border-gray-300"}`,onClick:()=>k(l),children:t},l))}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n>0?e.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-300 text-black rounded hover:bg-gray-400",children:"Kembali"}):e.jsx("div",{}),i!==null&&(n+1<a.length?e.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Berikutnya"}):e.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Lihat Hasil"}))]})]})}export{E as default};
