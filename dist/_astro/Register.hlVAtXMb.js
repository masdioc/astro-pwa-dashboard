import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.CRVbtxaI.js";import{A as x}from"./client.Dpvk074T.js";function p(){const[a,d]=i.useState({username:"",password:"",name:"",level:"user",email:""}),[o,r]=i.useState(""),[l,m]=i.useState(!1),s=t=>{d({...a,[t.target.name]:t.target.value})},u=async t=>{t.preventDefault(),m(!0),r("");try{const n=await fetch(x+"/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(n.ok)r("✅ Registrasi berhasil!"),d({username:"",password:"",name:"",level:"user",email:""});else{const c=await n.json();r(`❌ Gagal: ${c.message||"Registrasi gagal."}`)}}catch{r("❌ Tidak bisa terhubung ke server.")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Form Registrasi"}),o&&e.jsx("div",{className:"mb-4 p-3 text-sm text-white rounded bg-blue-500",children:o}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsx("input",{type:"text",name:"username",value:a.username,onChange:s,required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{type:"password",name:"password",value:a.password,onChange:s,required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap"}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:s,required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),e.jsxs("select",{name:"level",value:a.level,onChange:s,className:"w-full p-2 border border-gray-300 rounded",children:[e.jsx("option",{value:"TK",children:"TK"}),e.jsx("option",{value:"SD",children:"SD"}),e.jsx("option",{value:"SMP",children:"SMP"}),e.jsx("option",{value:"SMA",children:"SMA"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:s,required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),e.jsx("button",{type:"submit",disabled:l,className:`w-full py-2 rounded text-white transition ${l?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:l?"Mendaftarkan...":"Daftar"})]}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Kembali"}),e.jsx("a",{href:"/",className:"ml-2 text-sm text-blue-600 hover:underline dark:text-blue-400",children:"Login"})]})]})})}export{p as default};
