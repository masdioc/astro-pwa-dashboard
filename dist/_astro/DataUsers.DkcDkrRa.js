import{j as e}from"./jsx-runtime.BjG_zV1W.js";import{r as a}from"./index.BB8MMS-b.js";function k(){const[i,b]=a.useState([]),[u,m]=a.useState([]),[j,y]=a.useState(!0),[n,N]=a.useState(10),[r,d]=a.useState(1),[l,x]=a.useState(""),[t,h]=a.useState(null);a.useEffect(()=>{fetch("https://dummyjson.com/users").then(s=>s.json()).then(s=>{console.log("Data loaded:",s),b(s.users)}).catch(s=>{console.error("Fetch error:",s),alert("Gagal memuat data")}).finally(()=>y(!1))},[]),a.useEffect(()=>{if(l){const s=l.toLowerCase();m(i.filter(o=>`${o.firstName} ${o.lastName}`.toLowerCase().includes(s)||o.email.toLowerCase().includes(s)))}else m([])},[l,i]);const g=l?u:i,c=Math.ceil(g.length/n),p=(r-1)*n,f=p+n,v=g.slice(p,f);return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Data Pengguna"}),e.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[e.jsx("input",{type:"text",placeholder:"Cari nama atau email...",className:"px-4 py-2 border rounded w-full max-w-md shadow-sm",value:l,onChange:s=>{x(s.target.value),d(1)}}),e.jsx("button",{onClick:()=>x(""),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-sm",children:"Reset"}),e.jsx("button",{onClick:()=>alert("Export belum diimplementasikan"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded text-sm",children:"Export Excel"}),e.jsx("button",{onClick:()=>alert("Fitur tambah belum diimplementasikan"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded text-sm",children:"+ Tambah Pengguna"})]}),j?e.jsx("div",{className:"text-blue-600 mb-4",children:"⏳ Memuat data..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx("label",{htmlFor:"pageSize",className:"text-sm font-medium",children:"Tampilkan"}),e.jsx("select",{id:"pageSize",className:"border px-2 py-1 rounded text-sm",value:n,onChange:s=>{N(parseInt(s.target.value)),d(1)},children:[5,10,20,50].map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx("span",{className:"text-sm",children:"baris per halaman"})]}),e.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[e.jsx("thead",{className:"bg-blue-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-4 py-2 text-left",children:"ID"}),e.jsx("th",{className:"border px-4 py-2 text-left",children:"Nama"}),e.jsx("th",{className:"border px-4 py-2 text-left",children:"Email"}),e.jsx("th",{className:"border px-4 py-2 text-left",children:"Aksi"})]})}),e.jsx("tbody",{children:v.map(s=>e.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[e.jsx("td",{className:"px-6 py-4 border-b border-gray-200",children:s.id}),e.jsxs("td",{className:"px-6 py-4 border-b border-gray-200",children:[s.firstName," ",s.lastName]}),e.jsx("td",{className:"px-6 py-4 border-b border-gray-200",children:s.email}),e.jsx("td",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("button",{onClick:()=>h(s),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700",children:"Detail"})})]},s.id))})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4 gap-2",children:[e.jsx("button",{onClick:()=>r>1&&d(r-1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded disabled:opacity-50",disabled:r===1,children:"Prev"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",r," of ",c]}),e.jsx("button",{onClick:()=>r<c&&d(r+1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded disabled:opacity-50",disabled:r===c,children:"Next"})]}),t&&e.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 p-4 rounded shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Detail Pengguna"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nama:"})," ",t.firstName," ",t.lastName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",t.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gender:"})," ",t.gender]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Alamat:"})," ",t.address.address,", ",t.address.city]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Perusahaan:"})," ",t.company.name]}),e.jsx("button",{onClick:()=>h(null),className:"mt-2 px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded text-sm",children:"Tutup"})]})]})]})}export{k as default};
